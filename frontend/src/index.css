@import "tailwindcss";
@import "sweetalert2/dist/sweetalert2.min.css";

/* Theme System - CSS Variables */
:root {
    /* Core Brand Colors */
    --primary: #6366f1;
    --primary-dark: #4f46e5;
    --terciary: oklch(51.1% 0.262 276.966);
    --cuaternary: oklch(55.8% 0.288 302.321);
    --secondary: #10b981;
    --dark: #1e293b;
    --light: #f8fafc;

    /* Light Theme Colors */
    --theme-bg-primary: #ffffff;
    --theme-bg-secondary: #f8fafc;
    --theme-bg-tertiary: #f1f5f9;
    --theme-bg-accent: #e2e8f0;
    
    /* Text Colors */
    --theme-text-primary: #1e293b;
    --theme-text-secondary: #475569;
    --theme-text-tertiary: #9ca3af;
    --theme-text-muted: #64748b;
    --theme-text-accent: #6366f1;
    
    /* Border Colors */
    --theme-border-primary: #e2e8f0;
    --theme-border-secondary: #cbd5e1;
    --theme-border-accent: #94a3b8;
    
    /* Status Colors */
    --theme-success: #10b981;
    --theme-success-light: #d1fae5;
    --theme-success-dark: #065f46;
    --theme-warning: #f59e0b;
    --theme-warning-light: #fef3c7;
    --theme-warning-dark: #92400e;
    --theme-error: #ef4444;
    --theme-error-light: #fee2e2;
    --theme-error-dark: #991b1b;
    --theme-info: #3b82f6;
    --theme-info-light: #dbeafe;
    --theme-info-dark: #1e40af;
    
    /* Interactive States */
    --theme-hover-bg: #f1f5f9;
    --theme-active-bg: #e2e8f0;
    --theme-focus-ring: rgba(99, 102, 241, 0.2);
    
    /* Shadows */
    --theme-shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --theme-shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --theme-shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    --theme-shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    
    /* Gradients */
    --theme-gradient-primary: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
    --theme-gradient-purple: linear-gradient(135deg, var(--terciary) 0%, var(--cuaternary) 100%);
    --theme-gradient-card: linear-gradient(135deg, var(--theme-bg-primary) 0%, var(--theme-bg-secondary) 100%);
}

/* Sliding Panels System - Cinematographic Effects */
.sliding-panels-container {
    position: relative;
    width: 100%;
    height: 600px;
    overflow: hidden;
    border-radius: 1rem;
    background: var(--theme-bg-secondary);
    padding: 1.5rem;
}

.sliding-panel {
    position: absolute;
    top: 1.5rem;
    height: calc(100% - 3rem);
    border-radius: 1rem;
    background: var(--theme-bg-primary);
    border: 2px solid var(--theme-border-primary);
    box-shadow: var(--theme-shadow-lg);
    transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    cursor: pointer;
    overflow: hidden;
    backdrop-filter: blur(0px);
}

/* Panel States */
.sliding-panel.primary {
    left: 50%;
    transform: translateX(-50%) scale(1);
    width: 72%;
    opacity: 1;
    z-index: 3;
    filter: blur(0px);
    box-shadow: var(--theme-shadow-xl);
}

.sliding-panel.secondary {
    opacity: 0.7;
    z-index: 2;
    filter: blur(1px);
    box-shadow: var(--theme-shadow-md);
}

.sliding-panel.secondary.right {
    right: 1.5rem;
    transform: translateX(0) scale(0.85);
    width: 25%;
}

.sliding-panel.secondary.left {
    left: 1.5rem;
    transform: translateX(0) scale(0.85);
    width: 25%;
}

/* Hover Effects */
.sliding-panel.secondary:hover {
    opacity: 0.85;
    filter: blur(0.5px);
    transform: translateX(0) scale(0.9);
}

.sliding-panel.primary:hover {
    transform: translateX(-50%) scale(1.02);
    box-shadow: var(--theme-shadow-xl), 0 0 20px rgba(99, 102, 241, 0.15);
}

/* Panel Content */
.panel-content {
    padding: 2rem;
    height: 100%;
    display: flex;
    flex-direction: column;
    position: relative;
    overflow: hidden;
}

.panel-header {
    display: flex;
    align-items: center;
    margin-bottom: 1.5rem;
    flex-shrink: 0;
    gap: 1rem;
}

.panel-icon {
    width: 60px;
    height: 60px;
    border-radius: 1rem;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 1rem;
    transition: all 0.3s ease;
}

.panel-title {
    font-size: 1.5rem;
    font-weight: 600;
    margin: 0;
    transition: all 0.3s ease;
}

.panel-subtitle {
    font-size: 0.9rem;
    opacity: 0.8;
    margin: 0.5rem 0 0 0;
    transition: all 0.3s ease;
}

.panel-body {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    overflow-y: auto;
    overflow-x: hidden;
    min-height: 0;
    scrollbar-width: thin;
    scrollbar-color: var(--theme-border-secondary) var(--theme-bg-secondary);
}

/* Custom scrollbar for panels */
.panel-body::-webkit-scrollbar {
    width: 8px;
}

.panel-body::-webkit-scrollbar-track {
    background: var(--theme-bg-secondary);
    border-radius: 4px;
}

.panel-body::-webkit-scrollbar-thumb {
    background: var(--theme-border-secondary);
    border-radius: 4px;
}

.panel-body::-webkit-scrollbar-thumb:hover {
    background: var(--theme-border-accent);
}

/* Responsive Design */
@media (max-width: 1024px) {
    .sliding-panels-container {
        height: 500px;
        padding: 1rem;
    }
    
    .sliding-panel {
        top: 1rem;
        height: calc(100% - 2rem);
    }
    
    .sliding-panel.primary {
        width: 75%;
    }
    
    .sliding-panel.secondary.right {
        right: 1rem;
        width: 22%;
    }
    
    .sliding-panel.secondary.left {
        left: 1rem;
        width: 22%;
    }
    
    .panel-content {
        padding: 1.5rem;
    }
    
    .panel-title {
        font-size: 1.25rem;
    }
    
    .panel-icon {
        width: 50px;
        height: 50px;
    }
}

@media (max-width: 768px) {
    .sliding-panels-container {
        height: 400px;
        padding: 0.75rem;
    }
    
    .sliding-panel {
        top: 0.75rem;
        height: calc(100% - 1.5rem);
    }
    
    .sliding-panel.primary {
        width: 80%;
    }
    
    .sliding-panel.secondary.right {
        right: 0.75rem;
        width: 18%;
    }
    
    .sliding-panel.secondary.left {
        left: 0.75rem;
        width: 18%;
    }
    
    .panel-content {
        padding: 1rem;
    }
    
    .panel-title {
        font-size: 1.1rem;
    }
    
    .panel-subtitle {
        font-size: 0.8rem;
    }
    
    .panel-icon {
        width: 40px;
        height: 40px;
    }
}

/* Dark Theme Colors */
[data-theme="dark"] {
    /* Background Colors */
    --theme-bg-primary: #0f172a;
    --theme-bg-secondary: #1e293b;
    --theme-bg-tertiary: #334155;
    --theme-bg-accent: #475569;
    
    /* Text Colors */
    --theme-text-primary: #f8fafc;
    --theme-text-secondary: #e2e8f0;
    --theme-text-tertiary: #cbd5e1;
    --theme-text-muted: #94a3b8;
    --theme-text-accent: #818cf8;
    
    /* Border Colors */
    --theme-border-primary: #334155;
    --theme-border-secondary: #475569;
    --theme-border-accent: #64748b;
    
    /* Status Colors - Adjusted for dark theme */
    --theme-success: #10b981;
    --theme-success-light: #064e3b;
    --theme-success-dark: #34d399;
    --theme-warning: #f59e0b;
    --theme-warning-light: #451a03;
    --theme-warning-dark: #fbbf24;
    --theme-error: #ef4444;
    --theme-error-light: #450a0a;
    --theme-error-dark: #f87171;
    --theme-info: #3b82f6;
    --theme-info-light: #1e3a8a;
    --theme-info-dark: #60a5fa;
    
    /* Interactive States */
    --theme-hover-bg: #1e293b;
    --theme-active-bg: #334155;
    --theme-focus-ring: rgba(129, 140, 248, 0.3);
    
    /* Shadows - Enhanced for dark theme */
    --theme-shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
    --theme-shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.3);
    --theme-shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.4), 0 4px 6px -2px rgba(0, 0, 0, 0.3);
    --theme-shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.5), 0 10px 10px -5px rgba(0, 0, 0, 0.4);
    
    /* Gradients - Dark theme variants */
    --theme-gradient-primary: linear-gradient(135deg, #4f46e5 0%, #059669 100%);
    --theme-gradient-purple: linear-gradient(135deg, #7c3aed 0%, #db2777 100%);
    --theme-gradient-card: linear-gradient(135deg, var(--theme-bg-primary) 0%, var(--theme-bg-secondary) 100%);
}

body {
    font-family: "Poppins", sans-serif;
    background-color: var(--theme-bg-tertiary);
    color: var(--theme-text-primary);
    transition: background-color 0.3s ease, color 0.3s ease;
}

.gradient-bg {
    background: linear-gradient(
        135deg,
        var(--primary) 0%,
        var(--secondary) 100%
    );
}

.slide-range {
    appearance: none;
    accent-color: oklch(58.5% 0.233 277.117);
    background: linear-gradient(
        90deg,
        oklch(93% 0.034 272.788) 0%,
        oklch(58.5% 0.233 277.117) 100%
    );
}

.slide-2 {
    appearance: none;
    accent-color: oklch(58.5% 0.233 277.117);
}

.gradient-bg-purple {
    background: linear-gradient(
        135deg,
        var(--terciary) 0%,
        var(--cuaternary) 100%
    );
}

.subject-chip {
    transition: all 0.3s ease;
}

.subject-chip:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}

.exam-card {
    transition: all 0.3s ease;
    border-left: 4px solid var(--primary);
}

.exam-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
}

.tab-active {
    border-bottom: 3px solid var(--primary);
    font-weight: 600;
    color: var(--primary);
}

.question-item {
    border-left: 3px solid var(--primary);
}

.difficulty-badge {
    font-size: 0.7rem;
    padding: 0.2rem 0.5rem;
    border-radius: 9999px;
}

.easy {
    background-color: #dcfce7;
    color: #16a34a;
}

.medium {
    background-color: #fef9c3;
    color: #ca8a04;
}

.hard {
    background-color: #fee2e2;
    color: #dc2626;
}

.ai-processing {
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% {
        opacity: 0.6;
    }
    50% {
        opacity: 1;
    }
    100% {
        opacity: 0.6;
    }
}

/* Custom scrollbar */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: #f1f1f1;
}

::-webkit-scrollbar-thumb {
    background: #c7d2fe;
    border-radius: 10px;
}

::-webkit-scrollbar-thumb:hover {
    background: #a5b4fc;
}

.profile-dropdown {
    display: none;
    position: absolute;
    right: 0;
    top: 100%;
    background-color: white;
    min-width: 230px;
    box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
    z-index: 1;
    border-radius: 0.5rem;
    overflow: hidden;
}

.profile-dropdown a {
    color: #4b5563;
    padding: 12px 16px;
    text-decoration: none;
    display: block;
    transition: all 0.2s;
}

.profile-dropdown a:hover {
    background-color: #f3f4f6;
    color: #111827;
}

.profile-container {
    position: relative;
    display: inline-block;
}

.profile-container:hover .profile-dropdown {
    display: block;
}

.contact-container {
    box-shadow:
        0 20px 25px -5px rgba(0, 0, 0, 0.1),
        0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

.input-field {
    transition: all 0.3s ease;
}

.input-field:focus {
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.8);
}

textarea {
    resize: none;
    min-height: 120px;
}

/* Animaciones */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes spin {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(360deg);
    }
}

.loading-spinner {
    animation: spin 1s linear infinite;
}

.shake {
    animation: shake 0.5s;
}

@keyframes shake {
    0%,
    100% {
        transform: translateX(0);
    }
    10%,
    30%,
    50%,
    70%,
    90% {
        transform: translateX(-5px);
    }
    20%,
    40%,
    60%,
    80% {
        transform: translateX(5px);
    }
}

/* Stats cards */
.stats-card {
    transition: all 0.3s ease;
}

.stats-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
}

/* Progress bar */
.progress-bar {
    height: 6px;
    border-radius: 3px;
    background-color: #e5e7eb;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    border-radius: 3px;
    background: linear-gradient(90deg, var(--primary), var(--secondary));
    transition: width 0.5s ease;
}

/* Custom scrollbar */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: #f1f1f1;
}

::-webkit-scrollbar-thumb {
    background: #c7d2fe;
    border-radius: 10px;
}

::-webkit-scrollbar-thumb:hover {
    background: #a5b4fc;
}

/* Exam history item */
.exam-item {
    transition: all 0.2s ease;
}

.exam-item:hover {
    background-color: #f8fafc;
}

.loader {
    width: 48px;
    height: 48px;
    display: inline-block;
    position: relative;
}
.loader::after,
.loader::before {
    content: "";
    box-sizing: border-box;
    width: 48px;
    height: 48px;
    border-radius: 50%;
    border: 2px solid #fff;
    position: absolute;
    left: 0;
    top: 0;
    animation: animloader 2s linear infinite;
}
.loader::after {
    animation-delay: 1s;
}

@keyframes animloader {
    0% {
        transform: scale(0);
        opacity: 1;
    }
    100% {
        transform: scale(1);
        opacity: 0;
    }
}

.slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 25px;
    height: 25px;
    background: #6366f1; /* Green background */
    cursor: pointer;
}

.slider::-moz-range-thumb {
    width: 25px; /* Set a specific slider handle width */
    height: 25px; /* Slider handle height */
    background: #6366f1; /* Green background */
    cursor: pointer; /* Cursor on hover */
    border: #4f46e5;
}

/* Añade estos estilos a tu archivo CSS */

@keyframes pulse-outline {
    0% {
        background-color: rgba(234, 218, 255, 0.8);
    }
    50% {
        background-color: rgba(234, 218, 255, 0.2);
    }
    100% {
        background-color: rgba(234, 218, 255, 0.8);
    }
}

.outline-pulse-repeated {
    animation: pulse-outline 0.5s ease-in-out;
    animation-iteration-count: 5; /* Repetir 5 veces */
}

.dropdown-enter {
    opacity: 0;
    transform: translateY(-10px);
}
.dropdown-enter-active {
    opacity: 1;
    transform: translateY(0);
    transition:
        opacity 300ms,
        transform 300ms;
}
.dropdown-exit {
    opacity: 1;
    transform: translateY(0);
}
.dropdown-exit-active {
    opacity: 0;
    transform: translateY(-10px);
    transition:
        opacity 300ms,
        transform 300ms;
}

/* Custom Animations for Modern Exam Design */
@keyframes scale-in {
    0% {
        transform: scale(0);
        opacity: 0;
    }
    50% {
        transform: scale(1.1);
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}

@keyframes slide-up {
    0% {
        transform: translateY(20px);
        opacity: 0;
    }
    100% {
        transform: translateY(0);
        opacity: 1;
    }
}

@keyframes fade-in {
    0% {
        opacity: 0;
    }
    100% {
        opacity: 1;
    }
}

@keyframes pulse-ring {
    0% {
        transform: scale(0.8);
        opacity: 1;
    }
    100% {
        transform: scale(1.2);
        opacity: 0;
    }
}

.animate-scale-in {
    animation: scale-in 0.3s ease-out;
}

.animate-slide-up {
    animation: slide-up 0.4s ease-out;
}

.animate-fade-in {
    animation: fade-in 0.5s ease-out;
}

.animate-pulse-ring {
    animation: pulse-ring 1.5s ease-out infinite;
}

/* Hover effects for cards */
.card-hover-effect {
    transition: all 0.3s ease;
}

.card-hover-effect:hover {
    transform: translateY(-4px);
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

/* Custom scrollbar */
.custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: var(--theme-border-secondary) var(--theme-bg-secondary);
}

.custom-scrollbar::-webkit-scrollbar {
    width: 8px;
}

.custom-scrollbar::-webkit-scrollbar-track {
    background: var(--theme-bg-secondary);
    border-radius: 4px;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
    background: var(--theme-border-secondary);
    border-radius: 4px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: var(--theme-border-accent);
}

/* CSS Grid System for Exam Configuration */
.exam-config-grid {
    display: grid;
    grid-template-columns: repeat(12, 1fr);
    grid-template-rows: auto auto auto auto;
    gap: 1.5rem;
    max-width: 1400px;
    margin: 0 auto;
    padding: 1rem;
    
    /* Grid Areas Definition */
    grid-template-areas:
        "header header header header header header header header header header header header"
        "personalization personalization personalization personalization personalization personalization questions questions questions questions questions questions"
        "difficulty difficulty difficulty difficulty difficulty difficulty timer timer timer timer timer timer"
        "ai-config ai-config ai-config ai-config ai-config ai-config generate generate generate generate generate generate";
}

/* Mobile Grid Layout (< 640px) */
@media (max-width: 640px) {
    .exam-config-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
        padding: 0.75rem;
        
        grid-template-areas:
            "header"
            "personalization"
            "questions"
            "difficulty"
            "timer"
            "ai-config"
            "generate";
    }
}

/* Tablet Grid Layout (640px - 1024px) */
@media (min-width: 641px) and (max-width: 1024px) {
    .exam-config-grid {
        grid-template-columns: repeat(8, 1fr);
        
        grid-template-areas:
            "header header header header header header header header"
            "personalization personalization personalization personalization personalization personalization personalization personalization"
            "questions questions questions questions difficulty difficulty difficulty difficulty"
            "timer timer timer timer ai-config ai-config ai-config ai-config"
            "generate generate generate generate generate generate generate generate";
    }
}

/* Desktop Grid Layout (1025px - 1280px) */
@media (min-width: 1025px) and (max-width: 1280px) {
    .exam-config-grid {
        grid-template-areas:
            "header header header header header header header header header header header header"
            "personalization personalization personalization personalization personalization personalization questions questions questions questions questions questions"
            "difficulty difficulty difficulty difficulty difficulty difficulty timer timer timer timer timer timer"
            "ai-config ai-config ai-config ai-config ai-config ai-config generate generate generate generate generate generate";
    }
}

/* Large Desktop Grid Layout (> 1280px) */
@media (min-width: 1281px) {
    .exam-config-grid {
        grid-template-areas:
            "header header header header header header header header header header header header"
            "personalization personalization personalization personalization personalization personalization questions questions questions questions questions questions"
            "difficulty difficulty difficulty difficulty difficulty difficulty timer timer timer timer timer timer"
            "ai-config ai-config ai-config ai-config ai-config ai-config generate generate generate generate generate generate";
    }
}

/* Grid Area Assignments */
.grid-header { grid-area: header; }
.grid-subjects { grid-area: subjects; }
.grid-questions { grid-area: questions; }
.grid-difficulty { grid-area: difficulty; }
.grid-timer { grid-area: timer; }
.grid-personalization { grid-area: personalization; }
.grid-generate { grid-area: generate; }
.grid-ai-config { grid-area: ai-config; }

/* ExamQuestions.tsx specific layout - matches "casi todo listo" commit */
#upload-exam-section.exam-config-grid {
    grid-template-areas:
        "header header header header header header header header header header header header"
        "personalization personalization personalization personalization personalization personalization personalization personalization personalization personalization personalization personalization"
        "questions questions questions questions questions questions timer timer timer timer timer timer"
        "ai-config ai-config ai-config ai-config ai-config ai-config generate generate generate generate generate generate";
}

/* ExamQuestions.tsx mobile layout */
@media (max-width: 640px) {
    #upload-exam-section.exam-config-grid {
        grid-template-areas:
            "header"
            "personalization"
            "questions"
            "timer"
            "ai-config"
            "generate";
    }
}

/* ExamQuestions.tsx tablet layout */
@media (min-width: 641px) and (max-width: 1024px) {
    #upload-exam-section.exam-config-grid {
        grid-template-areas:
            "header header header header header header header header"
            "personalization personalization personalization personalization personalization personalization personalization personalization"
            "questions questions questions questions timer timer timer timer"
            "ai-config ai-config ai-config ai-config generate generate generate generate";
    }
}

/* ExamQuestions.tsx desktop layout */
@media (min-width: 1025px) and (max-width: 1280px) {
    #upload-exam-section.exam-config-grid {
        grid-template-areas:
            "header header header header header header header header header header header header"
            "personalization personalization personalization personalization personalization personalization personalization personalization personalization personalization personalization personalization"
            "questions questions questions questions questions questions timer timer timer timer timer timer"
            "ai-config ai-config ai-config ai-config ai-config ai-config generate generate generate generate generate generate";
    }
}

/* ExamQuestions.tsx large desktop layout */
@media (min-width: 1281px) {
    #upload-exam-section.exam-config-grid {
        grid-template-areas:
            "header header header header header header header header header header header header"
            "personalization personalization personalization personalization personalization personalization personalization personalization personalization personalization personalization personalization"
            "questions questions questions questions questions questions timer timer timer timer timer timer"
            "ai-config ai-config ai-config ai-config ai-config ai-config generate generate generate generate generate generate";
    }
}



/* Header Card Styles */
.exam-header-card {
    padding: 2rem;
    border-radius: 1.5rem;
    border: 2px solid;
    transition: all 0.5s ease;
    position: relative;
    overflow: hidden;
}

.exam-header-card::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
    transform: rotate(45deg);
    transition: all 0.6s ease;
    opacity: 0;
}

.exam-header-card:hover::before {
    opacity: 1;
    animation: shimmer 1.5s ease-in-out;
}

@keyframes shimmer {
    0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
    100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
}

.header-content {
    display: flex;
    align-items: center;
    gap: 1.5rem;
    margin-bottom: 2rem;
    position: relative;
    z-index: 1;
}

.header-icon {
    width: 4rem;
    height: 4rem;
    border-radius: 1.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
    transition: all 0.3s ease;
}

.header-icon:hover {
    transform: scale(1.1) rotate(5deg);
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
}

.header-text {
    flex: 1;
}

.header-title {
    font-size: 2rem;
    font-weight: 800;
    line-height: 1.2;
    margin-bottom: 0.5rem;
    transition: all 0.3s ease;
}

.header-subtitle {
    font-size: 1.125rem;
    line-height: 1.4;
    transition: all 0.3s ease;
    opacity: 0.9;
}

/* Progress Section */
.progress-section {
    position: relative;
    z-index: 1;
}

.progress-info {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 1rem;
}

.progress-label {
    font-size: 0.875rem;
    font-weight: 600;
    transition: all 0.3s ease;
}

.progress-badge {
    padding: 0.5rem 1rem;
    border-radius: 2rem;
    font-size: 0.75rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    transition: all 0.3s ease;
    border: 2px solid currentColor;
}

.progress-bar-bg {
    height: 0.75rem;
    border-radius: 2rem;
    transition: all 0.5s ease;
    overflow: hidden;
    position: relative;
}

.progress-bar-fill {
    height: 100%;
    border-radius: 2rem;
    transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
}

.progress-bar-fill::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
    animation: progress-shimmer 2s infinite;
}

@keyframes progress-shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

/* Configuration Cards */
.config-card {
    padding: 1.5rem;
    border-radius: 1.5rem;
    border: 1px solid;
    transition: all 0.3s ease;
    height: 100%;
    display: flex;
    flex-direction: column;
    position: relative;
    overflow: hidden;
}

.config-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

.card-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.card-icon {
    width: 2.5rem;
    height: 2.5rem;
    border-radius: 0.75rem;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.config-card:hover .card-icon {
    transform: scale(1.1);
}

.card-header-text {
    flex: 1;
}

.card-title {
    font-size: 1.125rem;
    font-weight: 700;
    line-height: 1.3;
    margin-bottom: 0.25rem;
    transition: all 0.3s ease;
}

.card-subtitle {
    font-size: 0.875rem;
    line-height: 1.4;
    transition: all 0.3s ease;
    opacity: 0.8;
}

.card-content {
    flex: 1;
}

/* Generate Section */
.generate-section {
    padding: 2rem;
    border-radius: 1.5rem;
    border: 2px dashed;
    transition: all 0.3s ease;
    text-align: center;
}

.generate-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
}

.generating-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
}

.generating-indicator {
    display: inline-flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem 1.5rem;
    border-radius: 1rem;
    border: 1px solid;
    transition: all 0.3s ease;
}

.generating-spinner {
    position: relative;
}

.spinner {
    width: 1.5rem;
    height: 1.5rem;
    border: 3px solid currentColor;
    border-top: 3px solid transparent;
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.generating-text {
    font-weight: 600;
    font-size: 1rem;
}

.generating-subtitle {
    font-size: 0.875rem;
    line-height: 1.5;
    max-width: 600px;
    transition: all 0.3s ease;
}

.generate-ready {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
}

.generate-hint {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.875rem;
    transition: all 0.3s ease;
}

/* Responsive Typography */
@media (max-width: 640px) {
    .header-title {
        font-size: 1.5rem;
    }
    
    .header-subtitle {
        font-size: 1rem;
    }
    
    .card-title {
        font-size: 1rem;
    }
    
    .card-subtitle {
        font-size: 0.8rem;
    }
    
    .exam-header-card {
        padding: 1.5rem;
    }
    
    .config-card {
        padding: 1.25rem;
    }
}

/* Animation Delays for Staggered Loading */
.grid-header { animation-delay: 0.1s; }
.grid-subjects { animation-delay: 0.2s; }
.grid-questions { animation-delay: 0.3s; }
.grid-difficulty { animation-delay: 0.4s; }
.grid-timer { animation-delay: 0.5s; }
.grid-personalization { animation-delay: 0.6s; }
.grid-generate { animation-delay: 0.7s; }

/* Apply fade-in animation to all grid items */
.exam-config-grid > div {
    animation: fade-in 0.6s ease-out both;
}

/* API Key Management Components */
.auth-warning {
    @apply p-4 rounded-xl border-2 border-dashed;
    border-color: var(--theme-warning);
    background-color: var(--theme-warning-light);
    color: var(--theme-warning-dark);
}

.models-locked {
    @apply p-4 text-center rounded-xl border-2 border-dashed;
    border-color: var(--theme-border-primary);
    background-color: var(--theme-bg-secondary);
    color: var(--theme-text-secondary);
}

.model-button {
    @apply p-3 rounded-xl border-2 text-left transition-all duration-300;
    border-color: var(--primary);
    cursor: pointer;
}

.model-button:not(.selected) {
    background-color: var(--theme-bg-secondary);
    color: var(--theme-text-primary);
}

.model-button.selected {
    background-color: var(--primary);
    color: white;
}

.api-key-preview {
    @apply p-3 rounded-xl border-2 mb-3;
    background-color: var(--theme-success-light);
    border-color: var(--theme-success);
    color: var(--theme-success-dark);
}

.api-key-input {
    @apply w-full px-4 py-3 rounded-xl border-2 transition-all duration-300 pr-12;
    background-color: var(--theme-bg-secondary);
    color: var(--theme-text-primary);
}

.api-key-input.valid {
    border-color: var(--theme-success);
}

.api-key-input.invalid {
    border-color: var(--theme-border-primary);
}

.api-key-label {
    @apply block text-sm font-medium mb-3;
    color: var(--theme-text-secondary);
}

.api-key-help-text {
    @apply text-xs;
    color: var(--theme-text-secondary);
}

.api-key-button {
    @apply inline-flex items-center space-x-1 text-xs px-2 py-1 rounded-lg transition-all duration-200 hover:scale-105;
    text-decoration: none;
    cursor: pointer;
}

.api-key-button.save {
    background-color: var(--theme-success);
    color: white;
}

.api-key-button.tutorial {
    background-color: var(--theme-info-light);
    color: var(--theme-info-dark);
}

.api-key-button.change {
    background-color: var(--theme-success);
    color: white;
}

.api-key-button.change:hover {
    background-color: var(--theme-success-dark);
}

.api-key-spinner {
    @apply w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin;
    color: var(--theme-info);
}

.api-key-status-icon.valid {
    color: var(--theme-success);
}

.api-key-status-icon.invalid {
    color: var(--theme-error);
}

/* Number input arrow removal for QuestionConf */
.number-input-no-arrows::-webkit-outer-spin-button,
.number-input-no-arrows::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

.number-input-no-arrows[type=number] {
    -moz-appearance: textfield;
}

/* Global cursor pointer for interactive elements */
button {
  cursor: pointer !important;
}

.btn, .subject-chip, .exam-card, .tab-active, .stats-card {
  cursor: pointer;
}

/* React PDF Viewer styles - Integración con tema */
.pdf-viewer-container {
  --rpv-background-color: var(--theme-bg-primary);
  --rpv-border-color: var(--theme-border-primary);
  --rpv-text-color: var(--theme-text-primary);
  --rpv-primary-color: var(--primary);
  --rpv-secondary-color: var(--theme-text-secondary);
  --rpv-hover-color: var(--theme-hover-bg);
  --rpv-active-color: var(--theme-active-bg);
}

/* Personalización del toolbar */
.rpv-toolbar {
  background-color: var(--theme-bg-secondary) !important;
  border-bottom: 1px solid var(--theme-border-primary) !important;
  padding: 0.5rem !important;
}

.rpv-toolbar__left,
.rpv-toolbar__center,
.rpv-toolbar__right {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

/* Botones del toolbar */
.rpv-button {
  background-color: transparent !important;
  border: 1px solid var(--theme-border-primary) !important;
  color: var(--theme-text-primary) !important;
  border-radius: 0.5rem !important;
  padding: 0.5rem !important;
  transition: all 0.2s ease !important;
}

.rpv-button:hover {
  background-color: var(--theme-hover-bg) !important;
  border-color: var(--primary) !important;
}

/* Sidebar */
.rpv-sidebar {
  background-color: var(--theme-bg-secondary) !important;
  border-right: 1px solid var(--theme-border-primary) !important;
}

.rpv-sidebar__tab {
  background-color: transparent !important;
  border-bottom: 1px solid var(--theme-border-primary) !important;
  color: var(--theme-text-primary) !important;
}

.rpv-sidebar__tab--active {
  background-color: var(--theme-active-bg) !important;
  border-bottom-color: var(--primary) !important;
}

/* Área de páginas */
.rpv-page-layer {
  background-color: var(--theme-bg-primary) !important;
}

/* Thumbnails */
.rpv-thumbnail {
  border: 1px solid var(--theme-border-primary) !important;
  border-radius: 0.5rem !important;
  transition: all 0.2s ease !important;
}

.rpv-thumbnail:hover {
  border-color: var(--primary) !important;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1) !important;
}

/* Search input */
.rpv-search__input {
  background-color: var(--theme-bg-primary) !important;
  border: 1px solid var(--theme-border-primary) !important;
  color: var(--theme-text-primary) !important;
  border-radius: 0.5rem !important;
  padding: 0.5rem !important;
}

.rpv-search__input:focus {
  border-color: var(--primary) !important;
  box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.2) !important;
}

/* Zoom controls */
.rpv-zoom__popover {
  background-color: var(--theme-bg-primary) !important;
  border: 1px solid var(--theme-border-primary) !important;
  border-radius: 0.5rem !important;
  box-shadow: var(--theme-shadow-lg) !important;
}

/* Tema oscuro específico */
[data-theme="dark"] .pdf-viewer-container {
  --rpv-background-color: var(--theme-bg-primary);
  --rpv-border-color: var(--theme-border-primary);
  --rpv-text-color: var(--theme-text-primary);
}

/* Navegación de archivos en modal */
.file-navigation-thumbnail {
  transition: all 0.3s ease;
}

.file-navigation-thumbnail:hover {
  transform: scale(1.05);
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}

.file-navigation-thumbnail.active {
  transform: scale(1.1);
  box-shadow: 0 8px 12px -2px rgba(0, 0, 0, 0.15);
}

/* Scrollbar personalizado para navegación */
.file-navigation-scroll::-webkit-scrollbar {
  height: 4px;
}

.file-navigation-scroll::-webkit-scrollbar-track {
  background: var(--theme-bg-secondary);
  border-radius: 2px;
}

.file-navigation-scroll::-webkit-scrollbar-thumb {
  background: var(--theme-border-secondary);
  border-radius: 2px;
}

.file-navigation-scroll::-webkit-scrollbar-thumb:hover {
  background: var(--theme-border-accent);
}

.zen-fix { @apply block; }
